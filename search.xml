<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>leetcode 204</title>
    <url>/2020/06/27/204/</url>
    <content><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/9/94/Animation_Sieve_of_Eratosth.gif" alt=""></p>
<a id="more"></a>

<h5 id="204-Count-Primes-质数的个数"><a href="#204-Count-Primes-质数的个数" class="headerlink" title="204 Count  Primes 质数的个数"></a>204 Count  Primes 质数的个数</h5><p>Count the number of prime numbers less than a non-negative number, <strong><em>n\</em></strong>. 求小于n的质数的个数</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: 10</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: There are 4 prime numbers less than 10, they are 2, 3, 5, 7.</span><br></pre></td></tr></table></figure>

<p>解题思路：质数：一个大于1的自然数中，除了1和此数本身外，没有被其他自然数整除的数</p>
<ol>
<li><p>The number 1 is neither prime nor composite.</p>
</li>
<li><p>if n is a postive integer that does not have a prime divisor less than sqrt(n), the n is prime.</p>
<p>举例：101 是质数吗？</p>
<p>the prime less than sqrt(101) : 2,3,5,7</p>
<p>但是101 都不能被2，3，5，7 整除， 所以101 是prime</p>
</li>
</ol>
<p>​       举例： 1147 是质数吗？</p>
<p>​       the prime less than sqrt(1147) : 2,3,5,7,11,13,17,23,29,31</p>
<p>​      1147=31*37,所以1147 是质数</p>
<ol start="3">
<li><p>if n is a composite postive integer, then n has a prime divior less than sqrt(n)</p>
<p><a href="http://zh.wikipedia.org/wiki/埃拉托斯特尼筛法" target="_blank" rel="noopener">埃拉托斯特尼筛法 Sieve of Eratosthenes</a> ：</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countPrimes</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> n&lt;<span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        res=[<span class="literal">True</span>]*n</span><br><span class="line">        res[<span class="number">0</span>],res[<span class="number">1</span>]=<span class="literal">False</span>,<span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n):</span><br><span class="line">            <span class="keyword">if</span> res[i]==<span class="literal">True</span>:</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(i*i,n,i):</span><br><span class="line">                    res[j]=<span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> sum(res)</span><br></pre></td></tr></table></figure>


]]></content>
  </entry>
  <entry>
    <title>Tower of Hanoi</title>
    <url>/2020/06/25/Tower-of-Hanoi/</url>
    <content><![CDATA[<p><img src="https://wdd.js.org/img/images/20180208212257_BZZjA5_1200px-The_Great_Wave_off_Kanagawa.jpeg" alt=""></p>
<p>待更新</p>
<a id="more"></a>

<p>文章正文</p>
]]></content>
      <tags>
        <tag>recursive</tag>
      </tags>
  </entry>
  <entry>
    <title>git memo</title>
    <url>/2020/08/02/git-memo/</url>
    <content><![CDATA[<h3 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h3><p>Use .gitignore file can help you not to upload unnecessary files and folders.</p>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br></pre></td></tr></table></figure>

<h3 id="if-gitignore-not-working"><a href="#if-gitignore-not-working" class="headerlink" title="if .gitignore not working"></a>if .gitignore not working</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># try this</span><br><span class="line">git rm -r --cached .</span><br><span class="line">git add .</span><br><span class="line">git commit -m &#39;update .gitignore&#39;</span><br></pre></td></tr></table></figure>



<a id="more"></a>



<h3 id="1-git-init"><a href="#1-git-init" class="headerlink" title="1. git init"></a>1. git init</h3><h3 id="2-git-add"><a href="#2-git-add" class="headerlink" title="2. git add"></a>2. git add</h3><p>Usage: <code>git add [file]</code></p>
<p>Usage: <code>git add *</code>   This command adds one or more to the staging area.</p>
<h3 id="3-git-status"><a href="#3-git-status" class="headerlink" title="3. git status"></a>3. git status</h3><p>Usage: <code>git status</code> </p>
<p>This command lists all the files that have to be committed.</p>
<h3 id="4-git-commit"><a href="#4-git-commit" class="headerlink" title="4. git commit"></a>4. git commit</h3><p>Usage: <code>git commit -m “[ Type in the commit message]”</code> </p>
<p>This command records or snapshots the file permanently in the version history.</p>
<h3 id="5-git-log"><a href="#5-git-log" class="headerlink" title="5. git log"></a>5. git log</h3><p>Usage: <code>git log</code> </p>
<p>This command is used to list the version history for the current branch.</p>
<h3 id="6-git-branch"><a href="#6-git-branch" class="headerlink" title="6. git branch"></a>6. git branch</h3><p>Usage: <code>git branch</code> </p>
<p>This command lists all the local branches in the current repository.</p>
<h3 id="7-git-branch"><a href="#7-git-branch" class="headerlink" title="7. git branch"></a>7. git branch</h3><p>Usage: <code>git branch</code>  Usage: <code>git checkout -b [branch name]</code> </p>
<p>This command lists all the local branches in the current repository.</p>
<h3 id="8-git-push"><a href="#8-git-push" class="headerlink" title="8. git push"></a>8. git push</h3><p><code>git push -u origin 0.1</code>   #branch</p>
<p><code>git push -u origin master</code></p>
]]></content>
      <categories>
        <category>notes</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>hello world</title>
    <url>/2020/06/24/hello-world/</url>
    <content><![CDATA[<p>插入图片</p>
<a id="more"></a>


<p>xxxxxxxxxxxx</p>
]]></content>
      <categories>
        <category>前端技术</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode 347 Top K Freq Elments</title>
    <url>/2020/07/16/leetcode-347-Top-K-Freq-Elments/</url>
    <content><![CDATA[<p>Given a non-empty array of integers, return the <strong><em>k\</em></strong> most frequent elements.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: nums &#x3D; [1,1,1,2,2,3], k &#x3D; 2</span><br><span class="line">Output: [1,2]</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: nums &#x3D; [1], k &#x3D; 1</span><br><span class="line">Output: [1]</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h5 id="347-Top-K-Frequent-Elements"><a href="#347-Top-K-Frequent-Elements" class="headerlink" title="347. Top K Frequent Elements"></a>347. Top K Frequent Elements</h5><p>题目要求：Your algorithm’s time complexity <strong>must be</strong> better than O(<em>n</em> log <em>n</em>), where <em>n</em> is the array’s size.</p>
<p>第一遍自己写的O(<em>n</em> log <em>n</em>),只能说时间复杂度小于等于O(nlogn),不太满足题意的样子</p>
<ol>
<li><p>用dic 记录每个数字出现的次数</p>
</li>
<li><p>sorted()按照出现的次数大小进行排序</p>
</li>
<li><p>返回前k个</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">topKFrequent</span><span class="params">(self, nums: List[int], k: int)</span> -&gt; List[int]:</span></span><br><span class="line">        dic=&#123;&#125;</span><br><span class="line">        count=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[i] <span class="keyword">not</span> <span class="keyword">in</span> dic:</span><br><span class="line">                dic[nums[i]]=count</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dic[nums[i]]+=<span class="number">1</span></span><br><span class="line">                </span><br><span class="line">        a=sorted(dic.items(),key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>],reverse=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment">#[(1,3),(2,2),(3,1)]</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> [x[<span class="number">0</span>] <span class="keyword">for</span> x <span class="keyword">in</span> a[:k]]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>List Comprehensions：</p>
<p><a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" target="_blank" rel="noopener">https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions</a></p>
<p>List  time-complexity</p>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th><strong>Average Case</strong></th>
<th><strong><a href="http://en.wikipedia.org/wiki/Amortized_analysis" target="_blank" rel="noopener">Amortized Worst Case</a></strong></th>
</tr>
</thead>
<tbody><tr>
<td>Copy</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Append[1]</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>Pop last</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>Pop intermediate</td>
<td>O(k)</td>
<td>O(k)</td>
</tr>
<tr>
<td>Insert</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Get Item</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>Set Item</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>Delete Item</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Iteration</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Get Slice</td>
<td>O(k)</td>
<td>O(k)</td>
</tr>
<tr>
<td>Del Slice</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>Set Slice</td>
<td>O(k+n)</td>
<td>O(k+n)</td>
</tr>
<tr>
<td>Extend[1]</td>
<td>O(k)</td>
<td>O(k)</td>
</tr>
<tr>
<td><a href="http://svn.python.org/projects/python/trunk/Objects/listsort.txt" target="_blank" rel="noopener">Sort</a></td>
<td>O(n log n)</td>
<td>O(n log n)</td>
</tr>
<tr>
<td>Multiply</td>
<td>O(nk)</td>
<td>O(nk)</td>
</tr>
<tr>
<td>x in s</td>
<td>O(n)</td>
<td></td>
</tr>
<tr>
<td>min(s), max(s)</td>
<td>O(n)</td>
<td></td>
</tr>
<tr>
<td>Get Length</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
</tbody></table>
]]></content>
  </entry>
  <entry>
    <title>awspre</title>
    <url>/2020/07/28/awspre/</url>
    <content><![CDATA[<p>笔记</p>
<a id="more"></a>

<h3 id="IAM"><a href="#IAM" class="headerlink" title="IAM"></a>IAM</h3><p><strong>What is a proper definition of IAM Roles?</strong></p>
<p>An IAM role is an IAM entity that defines a set of <a href="https://aws.amazon.com/iam/details/manage-permissions/" target="_blank" rel="noopener">permissions</a> for making AWS service requests. IAM roles are not associated with a specific user or group. Instead, trusted entities assume roles, such as IAM users, applications, or AWS services such as EC2.</p>
<p>角色（roles）类似于用户，但没有任何访问凭证（密码或者密钥），它一般被赋予某个资源（包括用户），使其临时具备某些权限。比如说一个 EC2 instance 需要访问 DynamoDB，我们可以创建一个具有访问 DynamoDB 权限的角色，允许其被 EC2 service 代入（AssumeRule），然后创建 ec2 的 instance-profile 使用这个角色。这样，这个 EC2 instance 就可以访问 DynamoDB 了。当然，这样的权限控制也可以通过在 EC2 的文件系统里添加 AWS 配置文件设置某个用户的密钥（AccessKey）来获得，但使用角色更安全更灵活。角色的密钥是动态创建的，更新和失效都毋须特别处理。想象一下如果你有成百上千台 EC2 instance，如果使用某个用户的密钥来访问 AWS SDK，那么，只要某台机器的密钥泄漏，这个用户的密钥就不得不手动更新，进而手动更新所有机器的密钥。这是很多使用 AWS 多年的老手也会犯下的严重错误。</p>
<p>按照 AWS 的定义：</p>
<blockquote>
<p>IAM enables you to control who can do what in your AWS account.</p>
</blockquote>
<p>它提供了用户（users）管理，群组（groups）管理，角色（roles）管理和权限（permissions）管理等供 AWS 的客户来管理自己账号下面的资源。</p>
<hr>
<h3 id="第五节：-EC2–Elastic-Compute-Cloud"><a href="#第五节：-EC2–Elastic-Compute-Cloud" class="headerlink" title="第五节： EC2–Elastic Compute Cloud"></a>第五节： EC2–Elastic Compute Cloud</h3><p>特性包括：</p>
<p>虚拟机 instances</p>
<p>系统镜像 amazon machine images(AMIs)</p>
<p>环境配置（cpu 内存 硬盘 网络等）instance types</p>
<p>安全登录信息（公钥 私钥）key pairs</p>
<p>临时数据存储 instance store volumes</p>
<p>持久化存储 Amazon EBS volumes</p>
<p>分布全球的物理存储中心  regions and Availability Zones</p>
<p>防火墙（iptables） security groups</p>
<p>公网ip Elastic IP addresses</p>
<p>元数据（metadata）tags</p>
<p>虚拟私有网络 virtual private clouds (VPCs)</p>
<hr>
<h4 id="EC2-purchasing-option"><a href="#EC2-purchasing-option" class="headerlink" title="!!!!EC2 purchasing option:"></a>!!!!EC2 purchasing option:</h4><ul>
<li>one demand:</li>
<li>Reserved:</li>
<li>spot instance:</li>
<li>dedicated host:</li>
</ul>
<ul>
<li><p><strong>EC2 Dedicated Instances vs EC2 Dedicated Hosts</strong></p>
<p>EC2 Dedicated Instances:  per instance billing(subject to a $2 per region fee)( 这个hosts是没有的 唯一的)</p>
</li>
</ul>
<p>​           EC2 Dedicated Hosts: lots of access to the underlying hardware</p>
<p>An important difference between a Dedicated Host and a Dedicated instance is that a <strong>Dedicated Host gives you additional visibility and control over how instances are placed on a physical server</strong>, and you can consistently deploy your instances to the same physical server over time. As a result, Dedicated Hosts enable you to use your existing server-bound software licenses and address corporate compliance and regulatory requirements.</p>
<h4 id="错题："><a href="#错题：" class="headerlink" title="错题："></a>错题：</h4><p><strong>Which network security tool can you use to control traffic in and out of EC2 Instances?</strong></p>
<p>A. Network Access Control list (NACL)</p>
<p>B. Identity and Mangement Access (I AM)</p>
<p>C GuardDuty</p>
<p><strong>D Security Groups</strong></p>
<p>note: Security Groups operate at instance level and can control traffic. 讲座 34：Security Groups &amp; Classic Ports Overview </p>
<p>Security Groups 在EC2 Mangment Console的 Network &amp; Security 下面</p>
<p><strong>How long can you reserve an EC2 Reserved Instance?</strong></p>
<p><strong>A 1 or 3 years</strong></p>
<p>B Anytime between 1 and 3 years</p>
<hr>
<p>7/13 </p>
<h4 id="第六节：EC2-Storage"><a href="#第六节：EC2-Storage" class="headerlink" title="第六节：EC2  Storage"></a>第六节：EC2  Storage</h4><p>复习第4章节 iam 管理的 role是什么</p>
<p>复习第5&amp;6章节</p>
<ul>
<li><input disabled="" type="checkbox"> <p>EC2 定义</p>
</li>
<li><input disabled="" type="checkbox"> <p>security group  port SSH</p>
</li>
<li><input disabled="" type="checkbox"> <p>EBS</p>
</li>
<li><input disabled="" type="checkbox"> <p>EBS snapshot</p>
</li>
<li><input disabled="" type="checkbox"> <p>EC2 isntance store vs EBS</p>
</li>
<li><input disabled="" type="checkbox"> <p>EFS VS EBS</p>
</li>
<li><input disabled="" type="checkbox"> <p>AMI </p>
</li>
</ul>
<p><strong>EC2 Instance Storage Section</strong></p>
<h5 id="第一种：Elastic-Block-Store"><a href="#第一种：Elastic-Block-Store" class="headerlink" title="第一种：Elastic Block Store"></a>第一种：Elastic Block Store</h5><p>An <strong>EBS (Elastic Block Store) Volume</strong> is a network drive you can attach to your instances while they run</p>
<ul>
<li><p>It allows your instances to <u>persist data</u>, even after their termination</p>
</li>
<li><p>They can only be <u>mounted to one instance at a time (</u>at the CCP level)</p>
</li>
<li><p>They are bound to a <u>specific availability zone</u></p>
</li>
</ul>
<p>when you create an EBS volume in an Availability Zone, it is automatically replicated within that zone to prevent data loss due to failure of any single hardware component</p>
<p>EBS Snapshots</p>
<p>To move a volume across, you first need to snapshot it</p>
<ul>
<li>Can copy snapshots across AZ or Region</li>
</ul>
<h5 id="第二种：EC2-Instance-Store"><a href="#第二种：EC2-Instance-Store" class="headerlink" title="第二种：EC2 Instance Store"></a>第二种：EC2 Instance Store</h5><p><u>If you need a high-performance hardware disk, use EC2 Instance Store</u></p>
<ul>
<li>Better I/O performance</li>
<li>EC2 Instance Store lose their storage if they’re stopped (ephemeral)</li>
<li>Good for buffer / cache / scratch data / temporary content</li>
<li>Risk of data loss if hardware fails</li>
<li>Backups and Replication are your responsibility</li>
</ul>
<p>![image-20200713224117684](/Users/lujin/Library/Application Support/typora-user-images/image-20200713224117684.png)</p>
<h5 id="第三种：EFS-Elastic-File-Storage-file"><a href="#第三种：EFS-Elastic-File-Storage-file" class="headerlink" title="第三种：EFS: Elastic File Storage file"></a>第三种：EFS: Elastic File Storage file</h5><p>storage mountable to multiple EC2 instances at the same time. Shared system file</p>
<img src="/Users/lujin/Library/Application Support/typora-user-images/image-20200715212126923.png" alt="image-20200715212126923" style="zoom:50%;" />

<hr>
<p>7/15</p>
<h3 id="第7节：ELB-amp-ASG-Elastic-Load-Balancing-amp-Auto-Scaling-Groups"><a href="#第7节：ELB-amp-ASG-Elastic-Load-Balancing-amp-Auto-Scaling-Groups" class="headerlink" title="第7节：ELB &amp; ASG -Elastic Load Balancing &amp; Auto Scaling Groups"></a>第7节：ELB &amp; ASG -Elastic Load Balancing &amp; Auto Scaling Groups</h3><p><strong>1 Scalability</strong> 是一种ability能力 去scale out or scale up</p>
<ul>
<li>Vertical Scalability–increasing the size of the instance –<strong>scale up/scale down</strong>–database</li>
<li>Horizontal Scalability (= elasticity)–increasing the number of instances / systems for your application–<strong>scale out/ in-</strong>-web app</li>
</ul>
<p><strong>2 Elasticity</strong> 当system可以scalable，–auto scaling -clound friendy</p>
<p><strong>3 (Agility)</strong> distractor –new IT resources are only a click away, which means that you reduce the time to make those resources available to your developers from weeks to just minutes</p>
<p><strong>High Availability</strong>–<strong>The goal of high availability is to survive a data center loss (disaster)</strong></p>
<p> Run instances for the same application across multi AZ</p>
<p>–Auto Scaling Group multi AZ</p>
<p>–Load Balancer multi AZ</p>
<h4 id="Load-balancer-感觉有点像分流"><a href="#Load-balancer-感觉有点像分流" class="headerlink" title="Load balancer: 感觉有点像分流"></a><strong>Load balancer:</strong> 感觉有点像分流</h4><p><strong>Why use a load balancer?</strong></p>
<ul>
<li><p>Spread load across multiple downstream instances</p>
</li>
<li><p>Expose a single point of access (DNS) to your application</p>
</li>
<li><p>Seamlessly handle failures of downstream instances</p>
</li>
<li><p>Do regular health checks to your instances</p>
</li>
<li><p>Provide SSL termination (HTTPS) for your websites</p>
</li>
<li><p>High availability across zones</p>
</li>
</ul>
<p><strong>Which of the following statements is NOT a feature of Load Balancers?</strong></p>
<p>Load Balancers cannot help with back-end autoscaling. You should use Auto Scaling Groups.</p>
<p><strong>Elastic Load Balancer</strong>–An ELB (Elastic Load Balancer) is a managed load balancer</p>
<p>–AWS guarantees that it will be working</p>
<p>–AWS takes care of upgrades, maintenance, high availability</p>
<p>–AWS provides only a few configuration knobs</p>
<h4 id="3-kinds-of-load-balancers-offered-by-AWS"><a href="#3-kinds-of-load-balancers-offered-by-AWS" class="headerlink" title="3 kinds of load balancers offered by AWS:"></a><strong>3 kinds of load balancers offered by AWS:</strong></h4><ul>
<li><p>application load balancer–(HTTP / HTTPS only) – Layer 7</p>
</li>
<li><p>network load balancer–(ultra-high performance, allows for TCP) – Layer 4</p>
</li>
<li><p>Classic Load Balancer (slowly retiring) – Layer 4 &amp; 7  不会是正确选项！已经淘汰了！！！！</p>
</li>
</ul>
<hr>
<p>Application load balancer </p>
<ul>
<li>分流 HTTP &amp; HTTPS 流量的最佳選擇</li>
<li>Application aware，可以讓源端的服務獲得額外的資訊(例如：使用者所在位置、使用的語系…等等)</li>
<li>可以根據使用者資訊 &amp; 條件設定 request routing policy，將流量導向特定的服務</li>
</ul>
<p>key terms:</p>
<p>listeners</p>
<p>Target</p>
<p>Target Group</p>
<p><strong>负载均衡的作用</strong></p>
<p>对多台云服务器进行流量分发的服务。负载均衡可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。</p>
<ol>
<li>提高可用性和访问速度<br>在单个可用区或多个可用区内的多个目标之间自动分配流量。</li>
<li>运行状况检查<br>检测无法正常运行的目标、停止向它们发送流量，然后将负载分散到剩余的正常运行的目标上。</li>
<li>安全性功能<br>创建和管理与负载均衡器关联的安全组，以提供更多联网和安全选项。</li>
<li>TLS 终止<br>提供集成化证书管理和 SSL/TLS 解密，可以灵活地集中管理负载均衡器的 SSL 设置，并从应用程序上卸载 CPU 密集型工作。</li>
</ol>
<p>Amazon 提供的 ELB 服务包含三种类型：ALB, NLB, CLB。</p>
<p><strong>ALB</strong></p>
<p>Application Load Balancer 运行于请求级别（第 7 层），可根据请求的内容将流量路由至 EC2 实例、容器、IP 地址和 Lambda 函数等目标。Application Load Balancer 最适合 HTTP 和 HTTPS 流量的高级负载均衡，面向交付包括微服务和基于容器的应用程序在内的现代应用程序架构，提供高级请求路由功能。Application Load Balancer 通过确保始终使用最新的 SSL/TLS 密码和协议，简化并提高应用程序的安全性。</p>
<p>ABL于2016年8月发布，与现有的负载均衡器（OSI第4层TCP/UDP均衡器）不同，ALB将查看数据包并将其发送到正确的服务。单个ALB可以为许多后端服务平衡流量，而不是为每个服务运行弹性负载均衡器。例如，包含的URL <code>/api</code>可以路由到与包含的URL <code>/signup</code>不同的后端服务。</p>
<p>![image-20200710105245642](/Users/lujin/Library/Application Support/typora-user-images/image-20200710105245642.png)</p>
<p>Auto Scaling 是在公有雲上必用的功能之一，可以根據系統負載來自動調整資源佈</p>
<p>![image-20200710112231064](/Users/lujin/Library/Application Support/typora-user-images/image-20200710112231064.png)</p>
<hr>
<p>块存储、文件存储、对象存储 <a href="https://www.zhihu.com/question/21536660" target="_blank" rel="noopener">https://www.zhihu.com/question/21536660</a></p>
<h3 id="第八节：AWS-S3"><a href="#第八节：AWS-S3" class="headerlink" title="第八节：AWS S3"></a>第八节：AWS S3</h3><ul>
<li>对象存储<ul>
<li>数据(包括文件/视频/图片)以及相关的源数据都是以对象(objects)的方式来存储的</li>
<li>不能以S3来当做操作系统的文件系统</li>
<li>对象（object）最大支持5TB</li>
</ul>
</li>
<li>高耐用<ul>
<li>Object 提供11个9，99.999999999%的持久性<ul>
<li>意味着每一亿个object才会丢失一个object</li>
<li>S3存储的对象会在同一个Region的多个AZ中保存多份拷贝</li>
</ul>
</li>
</ul>
</li>
<li>高可用<ul>
<li>提供99.99%的可用性</li>
</ul>
</li>
<li>高扩展<ul>
<li>提供无限的存储空间</li>
</ul>
</li>
<li>基于WEB<ul>
<li>上传和下载数据基于HTTP/HTTPS请求</li>
</ul>
</li>
<li>安全性<ul>
<li>可以选择多种方式来加密数据</li>
</ul>
</li>
<li>计费模式<ul>
<li>Pay as you go - Pay only for what you use</li>
</ul>
</li>
</ul>
<p><strong>S3 Object的基本点：</strong></p>
<ul>
<li>Key（文件名）</li>
<li>Value （数据）</li>
<li>Version ID</li>
<li>Metadata</li>
<li>Subresources<ul>
<li>ACL (Access Control List)</li>
<li>Torrent (BitTorrent 种子)</li>
</ul>
</li>
</ul>
<h4 id="S3-能用来做什么–google-drive"><a href="#S3-能用来做什么–google-drive" class="headerlink" title="S3 能用来做什么–google drive"></a>S3 能用来做什么–google drive</h4><ul>
<li>备份</li>
<li>存储内容</li>
<li>大数据分析</li>
<li>挂载静态网站</li>
<li>灾难恢复</li>
</ul>
<h4 id="S3桶-Bucket"><a href="#S3桶-Bucket" class="headerlink" title="S3桶(Bucket)"></a><a href="https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/dev/UsingBucket.html" target="_blank" rel="noopener">S3桶(Bucket)</a></h4><ul>
<li>Bucket就是用来存储对象（object）的一个集合<ul>
<li>Bucket和Object都是资源(resources), 也就是aws能操作的一个实体(entity)</li>
</ul>
</li>
<li>可以容纳无限的Object</li>
<li>默认一个账户可以创建100个bucket，这个上限是软性限制，可以通过向AWS提交case来提高上限</li>
<li>Bucket需要归属于某个Region，不是Global的。虽然S3的web console页面是Global的。</li>
<li>Bucket由附属的子资源(subresources)来定义bucket的配置</li>
</ul>
<h4 id="S3-命名空间-Namespace"><a href="#S3-命名空间-Namespace" class="headerlink" title="S3 命名空间(Namespace)"></a>S3 命名空间(Namespace)</h4><ul>
<li>S3需要唯一的命名空间<ul>
<li>Bucket名字必须在AWS的整个S3生态中是唯一的,而不仅仅是只在Region中唯一。</li>
<li>访问Bucket的方式<ul>
<li>Virtual<ul>
<li><a href="https://bucket.s3.amazonaws.com/" target="_blank" rel="noopener">https://bucket.s3.amazonaws.com</a></li>
<li><a href="https://bucket.s3-aws-region.amazonaws.com/" target="_blank" rel="noopener">https://bucket.s3-aws-region.amazonaws.com</a></li>
</ul>
</li>
<li>Path<ul>
<li><a href="https://s3-aws-region.amazonaws.com/bucket" target="_blank" rel="noopener">https://s3-aws-region.amazonaws.com/bucket</a></li>
</ul>
</li>
<li>Bucket名字必须要全局唯一的原因就是因为Bucket名字也会是域名的一部分</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="区域-Region"><a href="#区域-Region" class="headerlink" title="区域(Region)"></a>区域(Region)</h4><ul>
<li>Region就是bucket实际存放的位置</li>
<li>存放在某个Region的Object永远不会离开这个Region，除非你显式地将它传输出去</li>
<li>选取Bucket的Region的时候，需要考虑延迟，费用等因素。因为建造和运营成本不同，AWS各个Region的S3费用并不相同。而一般来说，选择最近的Region，延迟就越小。</li>
</ul>
<h4 id="S3-Versioning"><a href="#S3-Versioning" class="headerlink" title="S3 - Versioning"></a>S3 - Versioning</h4><ul>
<li>保存一个object的所有版本，即使删除（删除只是增加了一个Deleting Mark，并非真的删除）</li>
<li>是个很好的备份工具</li>
<li>一旦启用，无法再停下（disable），只能暂停（suspended）</li>
<li>和 Lifecycle Rules 集成</li>
<li>MFA Delete 功能，要求通过 Multi-factor Authentication才能删除</li>
<li>Cross Region Replication 也要求源和目标 bucket 都要开启Versioning</li>
</ul>
<h4 id="S3-Lifecycle-Management"><a href="#S3-Lifecycle-Management" class="headerlink" title="S3 - Lifecycle Management"></a>S3 - Lifecycle Management</h4><ul>
<li>可以和 Versioning 结合使用，也可以不结合</li>
<li>可以用于 current version 和 previous version</li>
<li>可以做以下操作：<ul>
<li>变成 Standard IA (Infequent Access) (128KB, 30 days after)</li>
<li>存档到 Glacier (30 days after IA)</li>
<li>永久删除</li>
</ul>
</li>
</ul>
<h4 id="S3-Security"><a href="#S3-Security" class="headerlink" title="S3 - Security"></a>S3 - Security</h4><ul>
<li>默认情况下，新的 bucket 是 Private 的</li>
<li>你可以设置访问控制，用：<ul>
<li>Bucket Policies</li>
<li>Access Control Lists</li>
</ul>
</li>
<li>S3 Bucket 可以设置 log 下所有请求，存到另一个bucket里去</li>
</ul>
<h4 id="AWS-Storage-Gateway"><a href="#AWS-Storage-Gateway" class="headerlink" title="AWS Storage Gateway"></a>AWS Storage Gateway</h4><p>is <strong>bridge</strong> between on-premise data and could data in S3    </p>
<h4 id="Snowmobile"><a href="#Snowmobile" class="headerlink" title="Snowmobile"></a>Snowmobile</h4><p>is used to move exabytes of data in or out of AWS (1 EB=1,000 PBs=1,000,000 TBs)</p>
<p>Amazon S3 Standard-Infrequent Access allow you to store infrequently accessed data, with rapid access when needed, has a high durability, and is stored in several Availability Zones to avoid data loss in case of a disaster. It can be used to store data for disaster recovery, backups, etc.</p>
<hr>
<h3 id="第九节：-Database"><a href="#第九节：-Database" class="headerlink" title="第九节： Database"></a>第九节： Database</h3><p>PPT  背诵summary</p>
<hr>
<p>7/19</p>
<h3 id="第十节：-ECS-Lambda-Batch-LightSail"><a href="#第十节：-ECS-Lambda-Batch-LightSail" class="headerlink" title="第十节： ECS,Lambda,Batch,LightSail"></a>第十节： ECS,Lambda,Batch,LightSail</h3><p>Exam! run docker containers on AWS, —think ECS</p>
<ul>
<li><input disabled="" type="checkbox"> <p>ECS–Elastic Container Service–ec2</p>
</li>
<li><input disabled="" type="checkbox"> <p>Fargate-serverless</p>
</li>
<li><input disabled="" type="checkbox"> <p>ECR–store image</p>
</li>
</ul>
<p>Docker is a software development platform that allows you to run applications the same way, regardless of where they are run. It can scale containers up and down within seconds.</p>
<hr>
<p>7/21</p>
<p>AWS CloudFormation 为您提供了一种通用语言，用于对您的云环境中的 AWS 和第三方应用程序资源进行建模和预配置。AWS CloudFormation 使您可以跨所有区域和账户，使用编程语言或简单的文本文件以自动化的安全方式，为您的应用程序需要的所有资源建模并进行预置。</p>
<p>AWS CodeDeploy 是一项将软件自动部署到各种计算服务（例如 Amazon EC2、AWS Fargate、AWS Lambda 和本地服务器）的完全托管的部署服务。借助 AWS CodeDeploy，您可以更轻松地快速发布新功能，避免在应用程序部署过程中出现停机，并简化应用程序的更新工作。您可以使用 AWS CodeDeploy 自动执行软件部署，而无需执行容易出错的手动操作。服务根据您的部署需求进行扩展。</p>
<p>AWS Systems Manager 是一项 AWS 服务，可用于查看和控制 AWS 上的基础设施。通过使用 Systems Manager 控制台，您可以查看多个 AWS 服务中的操作数据，并在不同的 AWS 资源中自动完成操作任务。Systems Manager 扫描<em>托管实例</em>并报告检测到的任何策略违规（或采取纠正措施），以帮助您保持安全性和合规性。</p>
<h3 id="IaaS-amp-PaaS-amp-SaaS-三兄弟"><a href="#IaaS-amp-PaaS-amp-SaaS-三兄弟" class="headerlink" title="IaaS &amp; PaaS &amp; SaaS 三兄弟"></a>IaaS &amp; PaaS &amp; SaaS 三兄弟</h3><p>邊準備證照邊隨手作筆記，雖然 IaaS &amp; PaaS &amp; SaaS 這是 800 年前的詞，但現在好像還是常常聽到？！從原本自家 On - Premises 全自架開始延伸到 IaaS &amp; PaaS &amp; SaaS 三種雲端分層，先用一個生活化的例子來舉例</p>
<p>❤想吃草莓蛋糕 ❤</p>
<p>有 4 種方式達到這個願望</p>
<p><strong>1. 自己在家做草莓蛋糕 (On-Premises)</strong></p>
<p>從買蛋+麵粉+草莓、準備烤箱到打蛋器擀麵棍擠花袋全自己準備</p>
<p><strong>2. 去動手做或蛋糕烘培坊的地方製作 (IaaS 基礎設施即服務 )</strong></p>
<p>店家提供菜譜、材料、高級烤箱、麵粉蛋汁與新鮮草莓，自己只需要根據有的器材與食材去製作喜歡的樣式的草莓蛋糕</p>
<p><strong>3. 用 Uber Eats 叫外送 (PaaS 平臺即服務</strong>)</p>
<p>支付些許手續費，透過第三方提供的服務達成吃草莓蛋糕的心願</p>
<p><strong>4. 直接 Lady M 吃草莓蛋糕 (SaaS 軟體即服務)</strong></p>
<p>準備好錢直接享受店家製作的草莓蛋糕</p>
<hr>
<p>下面這張圖解釋的蠻清楚，從純地端需要營運的項目到全託管的示意圖。</p>
<p><img src="https://miro.medium.com/max/60/1*BPYmxUZM2m51iCrm93g4RA.png?q=20" alt="Image for post"></p>
<p><img src="https://miro.medium.com/max/1716/1*BPYmxUZM2m51iCrm93g4RA.png" alt="Image for post"></p>
<p><a href="https://docs.microsoft.com/EN-US/learn/modules/principles-cloud-computing/5-types-of-cloud-services" target="_blank" rel="noopener">https://docs.microsoft.com/EN-US/learn/modules/principles-cloud-computing/5-types-of-cloud-services</a></p>
<ul>
<li>IaaS <strong>基礎設施即服務</strong> ( Infrastructure as a Service) 使用者需管理與設定大多數的基礎設施，從作業系統到虛擬機器運算資源的規格建制等都需控管，設定好需要的條件即可取得資源。<br>- 舉例說明 VM 與 Storage 為 IaaS</li>
<li>PaaS <strong>平臺即服務</strong> ( Platform as a Service ) 使用者管理營運的部分較 IaaS 少，省去管理 Server 或是 VM ，可把大多數的心力擺放在程式與資料端的優化與精進，提供執行環境或是開發環境讓使用者延伸運用。<br>- 舉例說明 Azure SQL Database、App Service、Azure Container Instances 為 PaaS</li>
<li>SaaS <strong>軟體即服務</strong> ( Software as a Service ) 使用者只須要享受服務商已經作好的服務，由雲端服務供應商全權處理，通常月租、訂閱或是需要註冊的服務歸為 SaaS 。<br>- 舉例說明 O365、Gmail 為 SaaS</li>
</ul>
<h3 id="第十一节："><a href="#第十一节：" class="headerlink" title="第十一节："></a>第十一节：</h3><h4 id="CloudFormation-AWS-only-–Iaas"><a href="#CloudFormation-AWS-only-–Iaas" class="headerlink" title="CloudFormation: (AWS only)–Iaas"></a>CloudFormation: (AWS only)–Iaas</h4><p>• Infrastructure as Code, works with almost all of AWS resources</p>
<p>• Repeat across Regions &amp; Accounts</p>
<h4 id="Beanstalk-AWS-only-Paas"><a href="#Beanstalk-AWS-only-Paas" class="headerlink" title="Beanstalk: (AWS only)-Paas"></a>Beanstalk: (AWS only)-Paas</h4><p>• Platform as a Service (PaaS), limited to certain programming languages or Docker</p>
<p>• Deploy code consistently with a known architecture: ex, ALB + EC2 + RDS</p>
<h4 id="CodeDeploy-hybrid"><a href="#CodeDeploy-hybrid" class="headerlink" title="CodeDeploy (hybrid):"></a>CodeDeploy (hybrid):</h4><p>• deploy &amp; upgrade any application onto servers</p>
<h4 id="Systems-Manager-hybrid"><a href="#Systems-Manager-hybrid" class="headerlink" title="Systems Manager (hybrid):"></a>Systems Manager (hybrid):</h4><p>• patch, configure and run commands at scale</p>
<h4 id="OpsWorks-hybrid"><a href="#OpsWorks-hybrid" class="headerlink" title="OpsWorks (hybrid):"></a>OpsWorks (hybrid):</h4><p>• managed Chef and Puppet in AWS</p>
<hr>
<p>7/24</p>
<h3 id="第十二节课-Leveraging-the-AWS-Global-Infrastructure"><a href="#第十二节课-Leveraging-the-AWS-Global-Infrastructure" class="headerlink" title="第十二节课 Leveraging the AWS Global Infrastructure"></a>第十二节课 Leveraging the AWS Global Infrastructure</h3><ul>
<li><input disabled="" type="checkbox"> <p>Regions vs. edge location ???</p>
<p>• Regions: For deploying applications and infrastructure</p>
<p>• Availability Zones: Made of multiple data centers</p>
<p>• Edge Locations (Points of Presence): for content delivery as close as possible to users</p>
<p>分发节点，是指亚马逊在全球建立的，对源服务器发布的内容进行缓存的节点。终端用户访问时，从最近的节点提供数据。</p>
</li>
<li><input disabled="" type="checkbox"> <p>Route 53–&gt; 4 routing policies</p>
</li>
<li><input disabled="" type="checkbox"> <p>AWS CloundFront–&gt;CDN (Content Delivery Network)</p>
<p>Amazon CloudFront类似于CDN，提供全球的内容分发服务，它在全球都有很多edge location，使你的客户能最小延迟的拿到数据。</p>
<p>他的原理是这样的，你会配置一个origin，当请求来的时候，CloudFront会根据配置去相应的origin拿数据，并缓存起来到全球的各个edge location。下次客户就直接在最近的edge location拿数据就行了。Origin可以是Amazon S3 buckets，也可以是自己的Web Servers。你给客户的就是一个cloudfront.net的域名。CloudFront确保每一次请求都是最近的edge location服务的。变化传播到全球的各个edge location需要15分钟左右。</p>
</li>
<li><input disabled="" type="checkbox"> <p>Amazon S3 Transfer Acceleration </p>
<p>enables fast, easy, and secure transfers of files over long distances between your client and an S3 bucket. Transfer Acceleration takes advantage of Amazon CloudFront’s globally distributed edge locations. As the data arrives at an edge location, data is routed to Amazon S3 over an optimized network path.</p>
</li>
</ul>
<h4 id="S3-Cross-Region-Replcation-VS-CloundFront"><a href="#S3-Cross-Region-Replcation-VS-CloundFront" class="headerlink" title="S3 Cross Region Replcation VS CloundFront"></a>S3 Cross Region Replcation VS CloundFront</h4><p>S3 cross 是read only</p>
<p>Edge locations are not just READ only, you can write to them too (ie put an object on to them).</p>
<h4 id="AWS-Global-Accelerator-VS-CloundFront"><a href="#AWS-Global-Accelerator-VS-CloundFront" class="headerlink" title="AWS Global Accelerator VS CloundFront"></a>AWS Global Accelerator VS CloundFront</h4><p>错题：</p>
<p><strong>Which Route 53 Routing Policies would you use to route traffic to multiple resources in proportions that you specify?</strong></p>
<p> A. Simple Routing Policy</p>
<p><strong>B. Weighted Routing Policy</strong></p>
<p>C. Latency Routing Policy</p>
<p>D. Failover Routing Policy</p>
<hr>
<h3 id="第十三节：-Clound-Intergations"><a href="#第十三节：-Clound-Intergations" class="headerlink" title="第十三节： Clound Intergations"></a>第十三节： Clound Intergations</h3><h4 id="Amazon-SQS-standard-queue"><a href="#Amazon-SQS-standard-queue" class="headerlink" title="Amazon SQS-standard queue"></a>Amazon SQS-standard queue</h4><p>–Queue Service in AWS</p>
<p>Amazon SQS automatically deletes messages that have been in a queue for more than maximum message retention period. The default message retention period is 4 days</p>
<p><strong>–use to decouple application</strong></p>
<p>SQS 是 AWS 的消息队列服务，用于暂存消息并等待接收者处理。</p>
<h4 id="Amazon-SNS-simple-notification"><a href="#Amazon-SNS-simple-notification" class="headerlink" title="Amazon SNS-simple notification"></a>Amazon SNS-simple notification</h4><p>–Notification Service in AWS</p>
<p>–No message retention 信息保留  </p>
<p><strong>–notification,subscribers,publishers</strong> http/https, email/sqs/lambda/mobile</p>
<h4 id="SNS-vs-SQS："><a href="#SNS-vs-SQS：" class="headerlink" title="SNS vs SQS："></a>SNS vs SQS：</h4><ul>
<li>相同点：都是消息服务</li>
<li>不同点：<strong>SNS 是 Push，而 SQS 是 Pull (Poll)</strong></li>
</ul>
<p> 错题：</p>
<p><strong>1. Which service is a fully managed pub/sub messaging service that makes it easy to set up, operate, and send notifications from the cloud, using a push-based system?</strong></p>
<p><strong>A SNS</strong></p>
<p>B SQS</p>
<p>C ASG</p>
<p>Amazon <strong>Simple Queue Service (SQS)</strong> is a fully managed message queuing service that enables you to decouple and scale microservices, distributed systems, and serverless applications. It is not a pub/sub messaging service, and it uses a <strong>pull-based</strong> system.</p>
<p>Amazon <strong>Simple Notification Service (SNS)</strong> is a highly available, durable, secure, fully managed pub/sub messaging service that enables you to decouple microservices, distributed systems, and serverless applications. It uses a <strong>push-based</strong> system</p>
<p><strong>2. Which service allows you to send, store, and receive messages between software components at any volume, without losing messages or requiring other services to be available, using a pull-based system?</strong></p>
<p>A SNS</p>
<p><strong>B SQS</strong></p>
<p>C ASG</p>
<hr>
<h3 id="第十四节：Clound-Monitoring-Section"><a href="#第十四节：Clound-Monitoring-Section" class="headerlink" title="第十四节：Clound Monitoring Section"></a>第十四节：Clound Monitoring Section</h3><h4 id="CloundWatch-Metric-amp-Alarm"><a href="#CloundWatch-Metric-amp-Alarm" class="headerlink" title="CloundWatch Metric &amp; Alarm"></a>CloundWatch Metric &amp; Alarm</h4><p>Amazon CloudWatch 实时监控您的 Amazon Web Services (AWS) 资源以及您在 AWS 中运行的应用程序。您可以使用 CloudWatch 收集和跟踪指标，这些指标是您可衡量的相关资源和应用程序的变量。</p>
<h4 id="CloundWatch-log"><a href="#CloundWatch-log" class="headerlink" title="CloundWatch log"></a>CloundWatch log</h4><p>Amazon CloudWatch Logs 支持您使用现有系统、应用程序和自定义日志文件来监控系统与应用程序，并进行故障排除。借助 CloudWatch Logs，您可以近乎实时地监控日志中的特定短语、值或模式。例如，您可以针对系统日志中出错的次数设置警报，或查看应用程序日志中的 Web 请求延迟图表。然后，您可以查看原始日志数据，了解问题根源。比如说我在lambda上面允许的代码错误的报告或者return的结果</p>
<h4 id="CloundWatch-Event-EventBridge"><a href="#CloundWatch-Event-EventBridge" class="headerlink" title="CloundWatch Event == EventBridge"></a>CloundWatch Event == EventBridge</h4><p>Amazon CloudWatch Events 提供近乎实时的系统事件流，这些系统事件描述 Amazon Web Services (AWS) 资源的变化</p>
<h4 id="CloundTrail"><a href="#CloundTrail" class="headerlink" title="CloundTrail"></a>CloundTrail</h4><p>AWS CloudTrail 是一项 AWS 服务，可帮助对您的 AWS 账户进行监管、合规性检查、操作审核和风险审核。用户、角色或 AWS 服务执行的操作将记录为 CloudTrail 中的事件。事件包括在 AWS 管理控制台、AWS Command Line Interface 和 AWS 开发工具包和 <strong>API</strong> 中执行的操作。</p>
<h4 id="AWS-X-Ray"><a href="#AWS-X-Ray" class="headerlink" title="AWS X-Ray"></a>AWS X-Ray</h4><p><strong>helps developers analyze and debug production as well as distributed applications</strong></p>
<p>错题：</p>
<p><strong>How would you describe Amazon CloudWatch Logs?</strong></p>
<p><strong>A  A single, highly scalable service that centrailzes the logs from all of your system,applications,and AWS services that you use</strong></p>
<p>B A service that provides a real-time stream of system events that describe changes in AWS resources</p>
<p>C A service that enable governece, compliance,operational auditing, and risk auditing of your AWS account</p>
<p>D A service that lets you run code without provisioning or managing severs</p>
<p>解析</p>
<p>A You can use Amazon CloudWatch Logs to monitor, store, and access your log files from Amazon Elastic Compute Cloud (Amazon EC2) instances, AWS CloudTrail, Route 53, and other sources.</p>
<p>B clound event</p>
<p>C cloundtrail</p>
<hr>
<h3 id="第十五节：VPC-1-2questions"><a href="#第十五节：VPC-1-2questions" class="headerlink" title="第十五节：VPC (1~2questions)"></a>第十五节：VPC (1~2questions)</h3><h4 id="1-Vpc-subnets-internet-Gateways-amp-NAT-Gateways"><a href="#1-Vpc-subnets-internet-Gateways-amp-NAT-Gateways" class="headerlink" title="1. Vpc,subnets, internet Gateways &amp; NAT Gateways"></a>1. Vpc,subnets, internet Gateways &amp; NAT Gateways</h4><p><strong>VPC</strong> -Virtual Private Cloud: private network to deploy your resources (regional resource)</p>
<p><strong>Subnets</strong> allow you to partition your network inside your VPC (Availability Zone resource)</p>
<p>​      • A <strong>public subnet</strong> is a subnet that is accessible from the internet</p>
<p>​      • A <strong>private subnet</strong> is a subnet that is not accessible from the internet</p>
<p>​      • To define access to the internet and between subnets, we use <strong>Route Tables</strong> .</p>
<p>Internet Gateways—at the VPC level, provide Internet Access</p>
<p>NAT Gateways (AWS-managed) &amp; NAT Instances (self-managed)—give internet access to private subnets</p>
<p><strong>题目</strong> Your private subnets need to connect to the Internet while still remaining private. Which AWS-managed VPC component allows you to do this? 选NAT Gateways</p>
<h4 id="2-Network-ACL-access-control-list-vs-Security-Groups"><a href="#2-Network-ACL-access-control-list-vs-Security-Groups" class="headerlink" title="2. Network ACL(access control list) vs Security Groups"></a>2. Network ACL(access control list) vs Security Groups</h4><p>Network ACL:      1.operates at the subnet level</p>
<p>​                              2.supports allow rules and deny rules</p>
<p>​                              3.is stateless:return traffic must be explicitly allowed by rules</p>
<p>Security Groups: 1.operates at the instance level</p>
<p>​                               2.supports allow rules only</p>
<p>​                               3.is stateful:return traffic is auto allowed,regarless of any rules</p>
<h4 id="3-VPC-Flow-Logs-VPC-Peering-VPC-Endpoints"><a href="#3-VPC-Flow-Logs-VPC-Peering-VPC-Endpoints" class="headerlink" title="3. VPC Flow Logs,VPC Peering,VPC Endpoints"></a>3. VPC Flow Logs,VPC Peering,VPC Endpoints</h4><p>•VPC Peering: Connect two VPC with non overlapping IP ranges, nontransitive</p>
<p>• VPC Endpoints: Provide private access to AWS Services within VPC</p>
<p>​                                <strong>VPC Endpoints Gateway</strong>: S3 &amp; DynamoDB</p>
<p>​                                <strong>VPC ENDpoints Interface:</strong> the res</p>
<p>• VPC Flow Logs: network traffic logs</p>
<h4 id="4-Site-to-Site-VPN-vs-Direct-Connect"><a href="#4-Site-to-Site-VPN-vs-Direct-Connect" class="headerlink" title="4. Site to Site VPN vs Direct Connect"></a>4. Site to Site VPN vs Direct Connect</h4><p>Site to Site VPN–public network—建立需要他们俩个：On-premises–<strong>Customer Gateway(CGW)</strong>–AWS-<strong>Virtual Private Gatway(VGW)</strong></p>
<p>Direct Connect–private network– 一个月- <strong>private, secure and fast</strong> </p>
<h4 id="5-Transit-Gateway–-a-way-to-connect-hundreds-thousands-of-VPC-together"><a href="#5-Transit-Gateway–-a-way-to-connect-hundreds-thousands-of-VPC-together" class="headerlink" title="5. Transit Gateway– a way to connect hundreds/thousands of VPC together"></a>5. Transit Gateway– a way to connect hundreds/thousands of VPC together</h4><p> 错题：</p>
<p><strong>You need a logically isolated section of AWS, where you can launch AWS resources in a private network that you define. What should you use?</strong></p>
<p>  A Subnets</p>
<p>  B AZ</p>
<p>  <strong>C A VPC</strong></p>
<p>  D NAT Instances</p>
<p>A A subnet is a range of IP addresses in your VPC. It allows you to partition your network inside your VPC.</p>
<p>D NAT Instances allow your instances in your private subnets to access the Internet while remaining private, and are managed by you. They are not used to launch AWS resources.</p>
<p><strong>C</strong> A virtual private cloud (VPC) is a virtual network dedicated to your AWS account. It is logically isolated from other virtual networks in the AWS Cloud. You can launch your AWS resources, such as Amazon EC2 instances, into your VPC.</p>
<hr>
<h3 id="第十六节：Security-amp-Compliance"><a href="#第十六节：Security-amp-Compliance" class="headerlink" title="第十六节：Security &amp; Compliance"></a>第十六节：Security &amp; Compliance</h3><h4 id="Resonsibilty"><a href="#Resonsibilty" class="headerlink" title="Resonsibilty:"></a>Resonsibilty:</h4><p>1 AWS-Security of the Clound</p>
<p>2 Customer-Security in the Clound</p>
<p>3 Shared Controls</p>
<h4 id="DDOS-Protection"><a href="#DDOS-Protection" class="headerlink" title="DDOS Protection"></a>DDOS Protection</h4><ol>
<li>AWS Shield Standard 不要钱的–layer 3</li>
<li>AWS shield Advanced 要钱的 24/7 access</li>
<li>AWS WAF(Web Application Firewall)–layer 7–http/s</li>
<li>CloudFront and Route 53</li>
<li>be ready ro auto-scalling EC2 instances</li>
</ol>
<h4 id="Penetration-Testing-on-AWS"><a href="#Penetration-Testing-on-AWS" class="headerlink" title="Penetration Testing on AWS"></a>Penetration Testing on AWS</h4><p>1 有一些允许我们自己去测试攻击 without permission</p>
<p>2 但是像那种ddos，port flooding, protocal flooding, dns zone walking–amzon route 53 hosted zone 是不行滴</p>
<h4 id="AWS-KMS-Key-Mangment-Service"><a href="#AWS-KMS-Key-Mangment-Service" class="headerlink" title="AWS KMS(Key Mangment Service)"></a>AWS KMS(Key Mangment Service)</h4><p><strong>encryption</strong> for aws service, think KMS</p>
<p>KMS= AWS manages the encryption keys for us</p>
<p><strong>Encryption Opt-in:</strong> option</p>
<p>• EBS volumes: encrypt volumes</p>
<p>• S3 buckets: Server-side encryption of objects</p>
<p>• Redshift database: encryption of data</p>
<p>• RDS database: encryption of data</p>
<p>• EFS drives: encryption of data</p>
<p> <strong>Encryption Automatically enabled:</strong></p>
<p>• CloudTrail Logs</p>
<p>• S3 Glacier</p>
<p>• Storage Gateway</p>
<h5 id="1-AWS-managed-keys"><a href="#1-AWS-managed-keys" class="headerlink" title="1 AWS managed keys"></a>1 AWS managed keys</h5><p>​     aws/s3, aws/ebs, aws/redshift</p>
<h5 id="2-Customer-managed-keys–cost-money"><a href="#2-Customer-managed-keys–cost-money" class="headerlink" title="2 Customer managed keys–cost money"></a>2 Customer managed keys–cost money</h5><p>​     Create, manage and use, can enable or disable</p>
<p>​     Possibility of rotation policy (new key generated every year, old key preserved)</p>
<p>​     Possibility to bring-your-own-key</p>
<h5 id="3-Customer-key-stores-–hardware-CloundHSMs"><a href="#3-Customer-key-stores-–hardware-CloundHSMs" class="headerlink" title="3 Customer key stores –hardware-CloundHSMs"></a>3 Customer key stores –hardware-CloundHSMs</h5><p>​    KMS =&gt; AWS manages the software for encryption</p>
<p>​    CloudHSM =&gt; AWS provisions encryption hardware</p>
<p>​    Dedicated Hardware (HSM = Hardware Security Module)</p>
<p>• You manage your own encryption keys entirely (not AWS)</p>
<h4 id="Aws-Secrets-Manager–paid"><a href="#Aws-Secrets-Manager–paid" class="headerlink" title="Aws Secrets Manager–paid"></a>Aws Secrets Manager–paid</h4><p>EXAM–secret to be managing in <strong>RDS</strong> (mysql,postgresql..)and to be <strong>rotate</strong> !!  选 Aws Secrets Manager</p>
<h4 id="Artifact"><a href="#Artifact" class="headerlink" title="Artifact:"></a>Artifact:</h4><p>Get access to <strong>compliance reports</strong> such as PCI, ISO, etc…</p>
<h4 id="GuardDuty"><a href="#GuardDuty" class="headerlink" title="GuardDuty:"></a>GuardDuty:</h4><p>Find malicious behavior with <strong>VPC, DNS &amp; CloudTrail Logs</strong></p>
<h4 id="Inspector-–ec2"><a href="#Inspector-–ec2" class="headerlink" title="Inspector: –ec2"></a>Inspector: –ec2</h4><p><strong>For EC2 only</strong>, install agent and find vulnerabilities</p>
<h4 id="Config"><a href="#Config" class="headerlink" title="Config:"></a>Config:</h4><p>Track config changes and compliance against rules</p>
<h4 id="Macie"><a href="#Macie" class="headerlink" title="Macie:"></a>Macie:</h4><p> Find sensitive data (ex: PII–personally identifiable information –data) in Amazon S3 buckets</p>
<h4 id="CloudTrail"><a href="#CloudTrail" class="headerlink" title="CloudTrail :"></a>CloudTrail :</h4><p>Track API calls made by users within account</p>
<hr>
<p>7/27</p>
<h3 id="第十八节：Machine-Learning"><a href="#第十八节：Machine-Learning" class="headerlink" title="第十八节：Machine Learning"></a>第十八节：Machine Learning</h3><p>• Rekognition: face detection, labeling, celebrity recognition</p>
<p>• Transcribe: audio to text (ex: subtitles)</p>
<p>• Polly: text to audio</p>
<p>• Translate: translations</p>
<p>• Lex: build conversational bots – chatbots</p>
<p>• Connect: cloud contact center</p>
<p>• Comprehend: natural language processing</p>
<p>• SageMaker : machine learning for every developer and data scientist</p>
<hr>
<h3 id="第十九节：Account-Management-bill"><a href="#第十九节：Account-Management-bill" class="headerlink" title="第十九节：Account Management,bill"></a>第十九节：Account Management,bill</h3><h4 id="AWS-Organizations-global-service"><a href="#AWS-Organizations-global-service" class="headerlink" title="AWS Organizations-global service"></a>AWS Organizations-global service</h4><p>-manage multiple aws accounts-main account=master account</p>
<p>-Cost Benefits:</p>
<p>• <strong>Consolidated Billing</strong> across all accounts - single payment method</p>
<p>• Pricing benefits from <strong>aggregated usage</strong> (volume discount for EC2, S3…)</p>
<p>• <strong>Pooling of Reserved EC2 instances</strong> for optimal savings</p>
<p>-<strong>API</strong> is available to <strong>automate AWS account creation</strong></p>
<p>-<strong>Restrict account privileges using Service Control Policies (SCP)!!!!!!</strong></p>
<p>Service control polices</p>
<h4 id="Pricing-Models-in-AWS"><a href="#Pricing-Models-in-AWS" class="headerlink" title="Pricing Models in AWS"></a>Pricing Models in AWS</h4>]]></content>
      <tags>
        <tag>aws</tag>
      </tags>
  </entry>
  <entry>
    <title>pay-attention</title>
    <url>/2020/08/12/pay-attention-1/</url>
    <content><![CDATA[<a id="more"></a>



<p>Q: What is output for list1,2,3 ?</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extendList</span><span class="params">(val, list=[])</span>:</span></span><br><span class="line">    list.append(val)</span><br><span class="line">    <span class="keyword">return</span> list</span><br><span class="line"></span><br><span class="line">list1 = extendList(<span class="number">10</span>)</span><br><span class="line">list2 = extendList(<span class="number">123</span>,[])</span><br><span class="line">list3 = extendList(<span class="string">'a'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"list1 = "</span>, list1)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"list2 = "</span>, list2)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"list3 = "</span>, list3)</span><br></pre></td></tr></table></figure>

<p>Wrong answer : list1 = [10], list2 = [123], list3 = [‘a’]</p>
<p>Correct answer :</p>
<p><img src="pay-attention-1/pay-attention01.jpg" alt=""></p>
<p>How could we change to it ?</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extendList</span><span class="params">(val, list=None)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> list <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    list = []</span><br><span class="line">  list.append(val)</span><br><span class="line">  <span class="keyword">return</span> list</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>leetcode205 Isomorphic Strings</title>
    <url>/2020/07/07/leetcode205%20Isomorphic%20Strings/</url>
    <content><![CDATA[<p>Given two strings <strong><em>s</em></strong> and <strong><em>t</em></strong>, determine if they are isomorphic.</p>
<p>Two strings are isomorphic if the characters in <strong><em>s</em></strong> can be replaced to get <strong><em>t</em></strong>.</p>
<p>All occurrences of a character must be replaced with another character while preserving the order of characters. No two characters may map to the same character but a character may map to itself.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: s &#x3D; &quot;egg&quot;, t &#x3D; &quot;add&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure>

<a id="more"></a>



<h5 id="209-Word-Pattern"><a href="#209-Word-Pattern" class="headerlink" title="209 Word Pattern"></a>209 Word Pattern</h5><p>用到的语法：</p>
<p>python string <strong>split() method</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">txt = <span class="string">"welcome to the jungle"</span></span><br><span class="line"></span><br><span class="line">x = txt.split()</span><br><span class="line"></span><br><span class="line">[<span class="string">'welcome'</span>, <span class="string">'to'</span>, <span class="string">'the'</span>, <span class="string">'jungle'</span>]</span><br></pre></td></tr></table></figure>



<p><strong>solution 1: Two Hash Maps</strong></p>
<p><code>pattern</code>: ‘abba’</p>
<p><code>str</code>: ‘dog cat fish dog’</p>
<p><code>pattern_dict</code> = {a:0, b:1}</p>
<p><code>str_dict</code> = {dog:0, cat:1, fish:2}</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wordPattern</span><span class="params">(self, pattern: str, str: str)</span> -&gt; bool:</span></span><br><span class="line">        pattern_dict = &#123;&#125;</span><br><span class="line">        str_dict = &#123;&#125;</span><br><span class="line">        str_word = str.split()</span><br><span class="line">        <span class="keyword">if</span> len(pattern) != len(str_word):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(pattern)):</span><br><span class="line">            <span class="keyword">if</span> pattern[i] <span class="keyword">not</span> <span class="keyword">in</span> pattern_dict:</span><br><span class="line">                pattern_dict[pattern[i]] = i</span><br><span class="line">            <span class="keyword">if</span> str_word[i] <span class="keyword">not</span> <span class="keyword">in</span> str_dict:</span><br><span class="line">                str_dict[str_word[i]] = i</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(pattern)):</span><br><span class="line">            <span class="keyword">if</span> pattern_dict[pattern[i]] != str_dict[str_word[i]]:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>



<p><strong>solution 2:  Single Index Hash Map</strong></p>
<p><code>pattern</code>: ‘abba’</p>
<p><code>str</code>: ‘dog cat fish dog’</p>
<p><code>map_index</code>={ a:0 , dog:0 , b:1 , cat:1 , fish:2}</p>
<p>index of ‘b’ and index of ‘fish’ are NOT the same. Returns <code>False</code>.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wordPattern</span><span class="params">(self, pattern: str, str: str)</span> -&gt; bool:</span></span><br><span class="line">        map_index = &#123;&#125;</span><br><span class="line">        words = str.split()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> len(pattern) != len(words):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(words)):</span><br><span class="line">            c = pattern[i]</span><br><span class="line">            w = words[i]</span><br><span class="line"></span><br><span class="line">            char_key = <span class="string">'char_&#123;&#125;'</span>.format(c)</span><br><span class="line">            char_word = <span class="string">'word_&#123;&#125;'</span>.format(w)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> char_key <span class="keyword">not</span> <span class="keyword">in</span> map_index:</span><br><span class="line">                map_index[char_key] = i</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> char_word <span class="keyword">not</span> <span class="keyword">in</span> map_index:</span><br><span class="line">                map_index[char_word] = i </span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> map_index[char_key] != map_index[char_word]:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p> 关于这里为什么要把char和string 区别开来：</p>
<p>如果不区别的话，</p>
<p>pattern=”abc”<br>str=”b c a”</p>
<p><em>Differentiating between character and string:</em> In Python there is no separate <code>char</code> type. And for cases such as:</p>
<p>pattern: ‘abba’ str: ‘b a a b’</p>
<p>Using the same hash map will not work properly. A workaround is to prefix each character in <code>pattern</code> with “char_” and each word in <code>str</code> with “word_”.</p>
<p><strong>solution 3:</strong> </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wordPattern</span><span class="params">(self, pattern, str)</span>:</span></span><br><span class="line">    s = pattern</span><br><span class="line">    t = str.split()</span><br><span class="line">    <span class="keyword">return</span> len(set(zip(s, t))) == len(set(s)) == len(set(t)) <span class="keyword">and</span> len(s) == len(t)</span><br></pre></td></tr></table></figure>







<h5 id="205-Isomorphic-Strings"><a href="#205-Isomorphic-Strings" class="headerlink" title="205 Isomorphic Strings"></a>205 Isomorphic Strings</h5><p>209 和 205 同思路，同方法</p>
<p><strong>Solution 1:</strong></p>
<p><code>s</code>=”foo”</p>
<p><code>t</code>=”bar”</p>
<p>check={ f:true, o:true}</p>
<p>dic={ f:b, o:a}</p>
<p>When i =index2 </p>
<p>o and r return false, since o is already in check</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isIsomorphic</span><span class="params">(self, s: str, t: str)</span> -&gt; bool:</span></span><br><span class="line">        dic=&#123;&#125;</span><br><span class="line">        check=&#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] <span class="keyword">in</span> dic:</span><br><span class="line">                <span class="keyword">if</span> dic[s[i]]!=t[i]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> t[i] <span class="keyword">in</span> check:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                dic[s[i]]=t[i]</span><br><span class="line">                check[t[i]]=<span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p><strong>solution 3:</strong> </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> len(set(zip(s, t))) == len(set(s)) == len(set(t))</span><br></pre></td></tr></table></figure>

<p>python <strong>zip() 用法</strong></p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Hash Table</tag>
      </tags>
  </entry>
</search>
